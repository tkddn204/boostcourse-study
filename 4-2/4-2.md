# 프로젝트 4-2. 예약관리시스템: 상세페이지-프론트엔드

Created: Jul 27, 2019 6:37 PM
tags: 부스트코스,웹프로그래밍

## 서론

  프로젝트 4-1에서는 처음 제출에서 fail이 뜨고, 4-2에서는 Reject가 떴었습니다. 아쉬웠지만 4-1, 4-2 모두 2번째 도전에 통과했다는 것에 깊이 감사하는 마음으로 저의 학습 내용을 공유하려고 합니다.

---

## 이번 프로젝트는?

프론트엔드 쪽은 굉장히 애를 먹었던 부분이 두 가지가 있었습니다. 그 두 가지를 살펴보면서 진행하겠습니다.

### 상단 이미지 슬라이드

<img width="400px" src="/4-2/images/slide.gif" alt="슬라이드" />

저 뿐만 아니라, 다른 분들도 애를 먹었던 부분인 것 같습니다. 3-2에서 엄청난 고민 끝에 알아낸 비법을 공유드리겠습니다.

저는 `infinite` 속성을 가진 `left`를 이동하는 `animation`을 이용했고, 이 속성을 이용하면 **동적으로 html class를 생성해도 동작이 가능**하다는 점을 이용했습니다. 또, 무한으로 반복되는 것을 **단 한번**만 조절하기 위해, `animationiteration`을 이용하여 한 번의 이터레이션이 끝나면 html class를 없애도록 하였습니다. 알고리즘을 순서대로 말씀드리면,

1. **왼쪽** 버튼을 눌렀을 경우와 **오른쪽** 버튼을 눌렀을 경우의 애니메이션을 css에 만들어 둡니다(`infinite` 속성을 넣어야 합니다).
2. 버튼을 누르면, 애니메이션 css 클래스를 이미지 컨테이너(`ul`)에 추가합니다.
3. 클래스를 추가하면 애니메이션이 실행되고, 애니메이션의 `animationiteration` 이벤트가 실행 되었을 때 추가했던 css 클래스를 삭제하는 코드를 실행합니다.
4. 이후 이동했던 `left`를 원래 위치로 되돌려놓습니다.

코드를 공유하고 싶지만, edwith의 정책으로 인해 올리지 못하는 점 양해 부탁드립니다.

### 예매자 한줄평 페이지

처음에 이 루브릭을 읽었을 때, forward를 통해서 데이터를 이동하는 것인 줄 알고, 버튼을 누르면 detail 페이지의 데이터를 통해 한줄평 페이지를 보여주려고 했습니다. 하지만 forward의 개념을 제가 잘 알지 못하는 상태였기에 이런 생각을 했던 것이었습니다.

- forward는 **서버사이드**에서 다른 페이지로 넘어가는 것이었고,
- redirect는 **클라이언트사이드**에서 다른 페이지로 넘어가는 것이었습니다.

그렇다면 redirect를 사용하면 되지 않을까 해서 생각을 했지만, 알고보니 저는 HTTP의 개념도 모르고 있었습니다(...).

- HTTP는 **Stateless**다.

상태가 없기 떄문에, 데이터를 넘기려면 **파라미터**로 넘기는 방법밖에 없었습니다. 하지만 방대한 양의 코멘트를 넘기기엔 쉽지 않았고, 결국엔 한줄평 페이지에서 **다시 displayInfo를 부르는 것**으로 해결했습니다.

## 리젝트 당한 이유?

저는 이클립스보다 인텔리제이로 코딩하는 것을 좋아해서 이클립스 파일을 압축하여 보냈더니 **context path** 때문에 api를 요청하면 404가 나오는 현상이 발생했습니다.

그래서 `.setting`에 있는 파일에서 context path를 공란으로 수정하여 보냈지만, 제대로 반영이 잘 안되는 것 같습니다.

따라서 AJAX 코드에서, 현재 origin url을 추가하여 요청하는 방식으로 바꾸도록 했습니다.

## 결론

  프로젝트 4가 드디어 끝났지만, 5의 내용을 슬쩍 보니 세션과 쿠키를 배우더군요.. 게다가 crud를 이용한 예약 서비스까지!! 아직 산 하나만 넘었지, 험난한 산 두 개가 더 남았습니다. 읽어주셔서 감사합니다.

> #부스트코스 #웹프로그래밍
